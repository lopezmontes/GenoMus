\documentclass{article}


\usepackage{arxiv}

\usepackage[utf8]{inputenc} % allow utf-8 input
\usepackage[T1]{fontenc}    % use 8-bit T1 fonts
\usepackage{hyperref}       % hyperlinks
\usepackage{url}            % simple URL typesetting
\usepackage{booktabs}       % professional-quality tables
\usepackage{amsfonts}       % blackboard math symbols
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{microtype}      % microtypography
\usepackage{lipsum}
\usepackage{xcolor}

\title{Representing procedural musical structures with an encoded functional grammar optimized for metaprogramming and machine learning}


\author{
  Jos\'e L\'opez-Montes\thanks{\url{https://www.lopezmontes.es}} \\
  University of Granada\\
  \texttt{lopezmontes@correo.ugr.es} \\
  %% examples of more authors
%   \And
% Elias D.~Striatum \\
%  Department of Electrical Engineering\\
%  Mount-Sheikh University\\
%  Santa Narimana, Levand \\
%  \texttt{stariate@ee.mount-sheikh.edu} \\
  %% \AND
  %% Coauthor \\
  %% Affiliation \\
  %% Address \\
  %% \texttt{email} \\
  %% \And
  %% Coauthor \\
  %% Affiliation \\
  %% Address \\
  %% \texttt{email} \\
  %% \And
  %% Coauthor \\
  %% Affiliation \\
  %% Address \\
  %% \texttt{email} \\
}

\begin{document}
\maketitle

\begin{abstract}

 	
We present GenoMus, a new model for artificial musical creativity based on a procedural approach, able to represent and learn the compositional techniques behind a musical score. The aim of this model is to build a framework for automatic creativity, easily adaptable to other domains beyond music. The core of GenoMus is a functional grammar designed to cover a wide range of styles, integrating traditional and contemporary composing techniques. Musical \emph{genotypes} are defined as functional trees, able to generate musical scores described as \emph{phenotypes}. To enable the maximal diversity of outputs, each process uses the same generic functional structure, no matter what time scale, polyphonic structure or additional characteristics are being employed. The goal of this highly homogeneous and modular approach is to simplify metaprogramming of genotypes, as well as maximize search space. Genotypes and phenotypes are encoded as normalized numeric vectors. This abstract representation of musical knowledge as pure numeric arrays is convenient for the application of different machine learning paradigms. The user interface developed for GenoMus is oriented to the exploration of augmented creativity, regardless of user expertise. However, a composer can create and alter manually genotypes and algorithms to modify automatic results. The system allows the implementation of user-defined processes, which will expand the procedures library. 

\end{abstract}


% keywords can be removed
\keywords{automatic musical composition \and metaprogramming \and procedural representation of music \and artificial creativity \and GenoMus }


%\setcounter{tocdepth}{1}
%\tableofcontents
%%\bigskip

\section{Introduction: composing composers}

Research in artificial musical intelligence demand for formalized
grammars of musical structures. Besides, a model of creative
mind is required to operate these abstractions.
Aesthetic criteria are extremely subjective, furthermore the details
of every model of automatic composition impose, consciously
or not, a limited search space. Delimiting these
boundaries and setting evaluation principles can be seen as
metacomposition, namely composing composers.

Composers' interest in musical language pervaded the 20th
century aesthetics. Transformation and overcoming of well-established methods
inherited from Romanticism led to post-tonal
music. Linguistic structuralism applied to musical
syntax stimulated relativization and consciousness of
compositional procedures. Reversing the logic of this analytic knowledge, the methods
of serial dodecaphonic music was the first step for the foundations of
an inverse creative strategy: synthesize new styles from the predefinition of new rules. 

Computer assisted composition enabled
far more complex procedures, tedious or unfeasible to explore by hand. Eventually, composers began to use computers not only for analysis and calculation of complex structures, but for the automation of the creative processes themselves. That fact opened the door to a new approach to composition: a metamusical level characterized by modeling the processes within the minds of composers. 

{\color{gray} \textsl{[Reflexiones sobre metacomposicion, el concepto de autoria y consideraciones pedagogicas y humanas de fondo.]}}


{\color{gray} \textsl{[Interes de la musica en el modelado de creatividad artificial - multidimensionalidad de la percepcion y analisis]}}

{\color{gray} \textsl{[Sobre la necesidad de usar el metanivel de los procedimientos antes que la partitura]}}

Many approaches to artificial intelligence applied to the automatic composition of music are modeled using scores as its data source...

{\color{gray} \textsl{[Complejidad del diseno de lenguajes de representacion musical en la composicion asistida por ordenador. Cita de algunas aproximaciones analogas.]}}



%------------------------------------------------


\section{A functional grammar to represent musical procedures}

\subsection{Foundations and requirements}

In any approach to artificial creativity, the representation system used is a condition that restricts the search space and determines aesthetic biases a priori, either consciously or unconsciously. On the other hand, the design of algorithms to generate music is ultimately an act of composition. With this in mind, our proposal seeks to be as open as possible, so that it can represent multiple styles. However, since the purpose of the project is not to imitate styles, but to create results of great originality and also serve as a tool for the \emph{augmented creativity} of human composers, this grammar integrates contemporary compositional techniques such as recursive processes, controlled randomness, self-similarity, etc.

{\color{gray} \textsl{[]}}

{\color{gray} \textsl{[Conveniencia del paradigma de programacion funcional para la metaprogramacion. Antecedentes procedimientos compositivos como funciones (referencias a Haskell y LISP en la tradicion)]}}

{\color{gray} \textsl{[Necesidad de encontrar un medio de representacion adecuado a la automatizacion de analisis, a la flexibilidad de estilos, y a conjugar la programacion manual con la modularidad necesaria para las tareas automatizadas]}}

{\color{gray} \textsl{[Importancia de la codificacion como vector numerico como representacion abstracta de estructuras y resultados musicales para la aplicacion de tecnicas de IA.]}}


\subsection{Musical genotypes and phenotypes}

{\color{gray} \textsl{[Marco conceptual basico del paradigma genotipo-fenotipo (referencias de otros proyectos)]}}

{\color{gray} \textsl{[Definiciones estrictas de genotipo y fenotipo]}}


{\color{gray} \textsl{[Similitud con la programacion funcional: la pieza musical como funcion de funciones.]}}


\subsection{Function types}

{\color{gray} \textsl{[Tabla con los tipos de funciones. Figura ilustrando la estructura score/voice/chord]}}

\subsection{Function libraries}

\subsection{Specimen data structure}

{\color{gray} \textsl{[Tabla con la estructura de datos de cada par geno\/feno generado]}}

\subsection{Minimal examples}


%------------------------------------------------


\section{Encoding of genotypes and phenotypes}
\begin{itemize}
\item Proposito de la codificacion en el marco del machine learning
\item Codificacion como vectores unidimensionales normalizados
\item Modularidad y posibilidad de manipulacion manual
\end{itemize}



%------------------------------------------------

\section{Integrating traditional and contemporary techniques}

\begin{itemize}
\item Entorno de trabajo con Max
\item Ejemplo de pieza completa basado en Clapping music (La importancia de la autorreferencia)

{\small \begin{verbatim}
s2V(                              // complete score: joins the 2 voices vertically
   vSlice(                        // voice 1: slices last cycle lost during phase lag   
      vRepeatV(                   // phase G: F 13 times
         vRepeatV(                // cycle F: E 8 times 
            vConcatV(             // pattern E: C + D
               vConcatV(          // motif C: A + B
                  vMotifLoop(     // core motif A: 3 8th-notes and a silence
                     ln(          // note values
                        0.04,
                        0.04,
                        0.08),
                     lm(          // pitch (irrelevant for this piece)
                        65),
                     la(          // articulation
                        0.5),
                     li(          // intensities (last note louder for clarity)
                        50,
                        50,
                        120)),
                  vSlice(         // motif B: A with 1st note sliced
                     vAutoref(0),
                     q(1))),
               vSlice(            // motif D: C with 1st note sliced
                  vAutoref(3),
                  q(2))),
            q(8)),
         q(13)),
      q(8)),
   vConcatV(                      // voice 2: F + H
      vAutoref(7),
      vRepeatV(                   // phase H: G 12 times 
         vSlice(                  // cycle G: cycle F with 1st note sliced
            vAutoref(7),
            q(1)),
         q(12))))
\end{verbatim}}

{\small \begin{verbatim}[ 1, 0.275535, 1, 0.534808, 1, 0.665631, 1, 0.665631, 1, 0.575462, 1, 0.575462, 1, 
0.606798, 1, 0.27051, 0.51, 0.335614, 0.51, 0.335614, 0.51, 0.435614, 0, 1, 0.506578, 
0.53, 0.53, 0, 1, 0.742646, 0.55, 0.553176, 0, 1, 0.36068, 0.56, 0.23, 0.56, 0.23, 
0.56, 0.93, 0, 0, 1, 0.534808, 1, 0.304952, 0.57, 0, 0, 1, 0.416408, 0.58, 0.55, 
0, 0, 0, 1, 0.534808, 1, 0.304952, 0.57, 0.854102, 0, 1, 0.416408, 0.58, 0.6, 0, 0, 
0, 1, 0.416408, 0.58, 0.75, 0, 0, 1, 0.416408, 0.58, 0.84, 0, 0, 1, 0.416408, 0.58, 
0.75, 0, 0, 1, 0.575462, 1, 0.304952, 0.57, 0.326238, 0, 1, 0.665631, 1, 0.534808, 1, 
0.304952, 0.57, 0.326238, 0, 1, 0.416408, 0.58, 0.55, 0, 0, 1, 0.416408, 0.58, 0.82, 
0, 0, 0, 0 ]\end{verbatim}}

\item Un ejemplo clasico con varias voces y conteniendo armonia, dinamica y articulacion
\item Modularidad y posibilidad de manipulacion manual
\item Ejemplos basicos de tecnicas habituales en CAC (movimiento browniano,
\item Handling of recursive techniques (fibonacci, y extension del modelo a expresiones matematicas complejas)
\item Puentes entra la notacion tradicional, la sintesis de sonido y la espacializacion
\item Multimedia
\end{itemize}


%------------------------------------------------


\section{Scalability}
\begin{itemize}
\item Como conjugar universalidad de las expresiones con optimizacion para tener los vectores codificados con mayores diferencias entre si.
\item Estrategias de caracterizacion de perfiles estilisticos
\item El problema del mapeo de funciones y su extensibilidad
\item Como establecer una base de datos de conocimiento
\item Metricas automatizadas de ciertos resultados
\end{itemize}


%------------------------------------------------


\section{Evaluation and evolution}

\begin{itemize}
\item Design of evaluation methods as the crucial act of composition
\item Objective vs. subjective evaluation
\item What to learn?

\subsection{Evolutionary paradigm}


%------------------------------------------------


\section{Conclusions and future work}

The artistic results of every algorithm designed for automated composition
are strongly constrained by their own representation
system of musical data. This paper presents GenoMus, a
framework for the exploration of artificial musical creativity
based on a generative grammar focused on the abstraction
of creative processes as a metalevel of compositional
tasks. We define musical genotypes as functional
nested expressions, and phenotypes as the pieces created
by evaluating these computable expressions. GenoMus' grammar is designed 
to ease the combination of fundamental procedures behind very different styles, ranging from basic to complex contemporary
techniques, particularly those able to produce rich
output from very simple recursive algorithms. At the same
time, maximal modularity is provided to simplify metaprogramming
routines to generate, assess, transform and categorize
the selected musical excerpts. The system is conceived
to maintain a long term interrelation with different
users achieving individual musical styles. This proposed
grammar can also be an analytic tool, from the point of
view of composition as computation, considering that the
best analysis of a piece is the shortest precise description.

Cuestiones interesantes: 
\begin{itemize}
\item ?Cuantas funciones primitivas son necesarias para generar musica en un determinado estilo? Hay innumerables expresiones funcionales diferentes que pueden generar la misma musica. Se puede deducir que la expresion funcional mas breve es el mejor analisis. Se pueden ver diferentes paradigmas de ensenanza/aprendizaje de la musica con estos modelos.
\item ?Como puede hacerse ingenieria inversa automatizada para extraer estructuras desde la musica?
\end{itemize}

%\section{Headings: first level}
%\label{sec:headings}
%
%\lipsum[4] See Section \ref{sec:headings}.
%
%\subsection{Headings: second level}
%\lipsum[5]
%\begin{equation}
%\xi _{ij}(t)=P(x_{t}=i,x_{t+1}=j|y,v,w;\theta)= {\frac {\alpha _{i}(t)a^{w_t}_{ij}\beta _{j}(t+1)b^{v_{t+1}}_{j}(y_{t+1})}{\sum _{i=1}^{N} \sum _{j=1}^{N} \alpha _{i}(t)a^{w_t}_{ij}\beta _{j}(t+1)b^{v_{t+1}}_{j}(y_{t+1})}}
%\end{equation}
%
%\subsubsection{Headings: third level}
%\lipsum[6]
%
%\paragraph{Paragraph}
%\lipsum[7]
%
%\section{Examples of citations, figures, tables, references}
%\label{sec:others}
%\lipsum[8] \cite{kour2014real,kour2014fast} and see \cite{hadash2018estimate}.
%
%The documentation for \verb+natbib+ may be found at
%\begin{center}
%  \url{http://mirrors.ctan.org/macros/latex/contrib/natbib/natnotes.pdf}
%\end{center}
%Of note is the command \verb+\citet+, which produces citations
%appropriate for use in inline text.  For example,
%\begin{verbatim}
%   \citet{hasselmo} investigated\dots
%\end{verbatim}
%produces
%\begin{quote}
%  Hasselmo, et al.\ (1995) investigated\dots
%\end{quote}
%
%\begin{center}
%  \url{https://www.ctan.org/pkg/booktabs}
%\end{center}
%
%
%\subsection{Figures}
%\lipsum[10] 
%See Figure \ref{fig:fig1}. Here is how you add footnotes. \footnote{Sample of the first footnote.}
%\lipsum[11] 
%
%\begin{figure}
%  \centering
%  \fbox{\rule[-.5cm]{4cm}{4cm} \rule[-.5cm]{4cm}{0cm}}
%  \caption{Sample figure caption.}
%  \label{fig:fig1}
%\end{figure}
%
%\subsection{Tables}
%\lipsum[12]
%See awesome Table~\ref{tab:table}.
%
%\begin{table}
% \caption{Sample table title}
%  \centering
%  \begin{tabular}{lll}
%    \toprule
%    \multicolumn{2}{c}{Part}                   \\
%    \cmidrule(r){1-2}
%    Name     & Description     & Size ($\mu$m) \\
%    \midrule
%    Dendrite & Input terminal  & $\sim$100     \\
%    Axon     & Output terminal & $\sim$10      \\
%    Soma     & Cell body       & up to $10^6$  \\
%    \bottomrule
%  \end{tabular}
%  \label{tab:table}
%\end{table}
%
%\subsection{Lists}
%\begin{itemize}
%\item Lorem ipsum dolor sit amet
%\item consectetur adipiscing elit. 
%\item Aliquam dignissim blandit est, in dictum tortor gravida eget. In ac rutrum magna.
%\end{itemize}

Ejemplo de citas  \cite{compoCombiSimul,Schmidhuber95low-complexityart} y otra cita \cite{Lopez-Montes_TFM}.

\bibliographystyle{unsrt}  
\bibliography{references}  

\end{document}